{"version":3,"file":"ViewPackages-Cd8PPYrd.js","sources":["../../src/components/packages/PackageCard.vue","../../src/views/ViewPackages.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\n/**\r\n * This component is used to show the package card\r\n * in the packages page\r\n *\r\n * @prop data\r\n * (PackageI) The package data from interface\r\n * This prop is used to show the package data\r\n * in the card\r\n *\r\n */\r\n\r\n//Vue imports\r\n\r\n//Vue Router imports\r\n\r\n//Stores imports\r\n\r\n//Models imports\r\nimport type { PackageI } from '@/interface/packageI'\r\n\r\n//Views imports\r\n\r\n//Services imports\r\n\r\n// This prop is used to show the package data in the card\r\nconst data = defineProps<PackageI>()\r\n</script>\r\n<template>\r\n  <div class=\"package_card shadow\">\r\n    <div class=\"section\">\r\n      <p class=\"head\">Número de guía</p>\r\n      <!-- guide number -->\r\n      <p class=\"font-bold\">{{ data.id }}</p>\r\n    </div>\r\n    <div class=\"section\">\r\n      <div class=\"head\">Descripción</div>\r\n      <!-- description package -->\r\n      <p>{{ data.description }}</p>\r\n    </div>\r\n    <div class=\"section\">\r\n      <div class=\"head\">Creado</div>\r\n      <!-- created date package -->\r\n      <p>{{ data.createdAt }}</p>\r\n    </div>\r\n    <div class=\"section\">\r\n      <div class=\"head\">Desde</div>\r\n      <!-- start node name -->\r\n      <p>{{ data.startNodeName }}</p>\r\n    </div>\r\n    <div class=\"section\">\r\n      <div class=\"head\">Hasta</div>\r\n      <!-- end node name -->\r\n      <p>{{ data.endNodeName }}</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.package_card {\r\n  background-color: white;\r\n  border-radius: 10px;\r\n  border: 1px solid #e5e7eb;\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 30rem;\r\n  min-width: 20rem;\r\n  padding: 2rem;\r\n\r\n  .head {\r\n    font-size: 1.8rem;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .section {\r\n    padding: 0.5rem 0;\r\n    border-bottom: 1px solid #e5e7eb;\r\n  }\r\n}\r\n</style>\r\n","<script setup lang=\"ts\">\r\n//Vue imports\r\nimport { onBeforeMount, ref } from 'vue'\r\n\r\n//Vue Router imports\r\n\r\n//Stores imports\r\n\r\n//Models imports\r\nimport Package from '@/models/package'\r\nimport PackageCard from '@/components/packages/PackageCard.vue'\r\nimport PrimaryButton from '@/components/utilities/PrimaryButton.vue'\r\n\r\n//Views imports\r\n\r\n//Services imports\r\nimport { packageService } from '@/services/packages'\r\n\r\n// Variable to store the current page\r\nconst page = ref(1)\r\n\r\n// Variable to store the total pages\r\nconst totalPages = ref(0)\r\n\r\n// Variable to store the packages, after they are loaded\r\nconst packages = ref<Package[]>([])\r\n\r\n// Variable to store if the page is loading\r\nconst loading = ref(true)\r\n\r\n/**\r\n * Function to get the packages\r\n *\r\n * This function calls the service to get the packages\r\n * and stores the packages in the variable packages\r\n * and the total pages in the variable totalPages\r\n *\r\n * @returns void\r\n */\r\nconst getPackages = async () => {\r\n  loading.value = true\r\n  try {\r\n    // Call the service to get the packages\r\n    const reponse = await packageService.getPackageList(page.value)\r\n    packages.value = reponse.list\r\n    totalPages.value = reponse.pages\r\n  } catch (error) {\r\n    console.error(error)\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n/**\r\n * Function to go to the previous page\r\n *\r\n * This function decreases the page variable by one\r\n * and calls the getPackages function\r\n */\r\nconst lessPage = () => {\r\n  if (page.value > 1) {\r\n    page.value--\r\n    getPackages()\r\n  }\r\n}\r\n\r\n/**\r\n * Function to go to the next page\r\n *\r\n * This function increases the page variable by one\r\n * and calls the getPackages function\r\n */\r\nconst addPage = () => {\r\n  if (page.value < totalPages.value) {\r\n    page.value++\r\n    getPackages()\r\n  }\r\n}\r\n\r\n/**\r\n * Function to get the packages\r\n *\r\n * This function calls the service to get the packages\r\n * and stores the packages in the variable packages\r\n * and the total pages in the variable totalPages\r\n */\r\nonBeforeMount(async () => {\r\n  await getPackages()\r\n})\r\n</script>\r\n<template>\r\n  <div class=\"container mx-auto pt-5\">\r\n    <div class=\"home mb-3\">\r\n      <!-- Link to redirect to the home page -->\r\n      <router-link to=\"/\">\r\n        <i class=\"bi bi-house-fill\"></i>\r\n        Inicio\r\n      </router-link>\r\n    </div>\r\n    <!-- Title of the page -->\r\n    <h1>Tus paquetes</h1>\r\n    <div class=\"packages flex flex-wrap gap-5 my-5\" v-if=\"!loading\">\r\n      <!-- Component to show the package -->\r\n      <PackageCard\r\n        v-for=\"pkg in packages\"\r\n        :key=\"pkg.id\"\r\n        :id=\"pkg.id\"\r\n        :description=\"pkg.description\"\r\n        :createdAt=\"pkg.created\"\r\n        :startNodeName=\"pkg.startNodeName\"\r\n        :endNodeName=\"pkg.endNodeName\"\r\n      />\r\n      <!-- Message to show if the user does not have packages -->\r\n      <p v-if=\"packages.length === 0\">Aun no tienes ningún paquete</p>\r\n    </div>\r\n\r\n    <!-- Section to show the loading message -->\r\n    <div v-else>\r\n      <p>Cargando...</p>\r\n    </div>\r\n    <div class=\"pages flex my-5 gap-5 flex-wrap\">\r\n      <!-- Button to go to the previous page -->\r\n      <PrimaryButton @click=\"lessPage\" text=\"Anterior\" />\r\n\r\n      <!-- Button to go to the next page -->\r\n      <PrimaryButton @click=\"addPage\" text=\"Siguiente\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-weight: 600;\r\n}\r\n.home {\r\n  font-size: 1.6rem;\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,UAAM,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPP,UAAA,OAAO,IAAI,CAAC;AAGZ,UAAA,aAAa,IAAI,CAAC;AAGlB,UAAA,WAAW,IAAe,CAAA,CAAE;AAG5B,UAAA,UAAU,IAAI,IAAI;AAWxB,UAAM,cAAc,YAAY;AAC9B,cAAQ,QAAQ;AACZ,UAAA;AAEF,cAAM,UAAU,MAAM,eAAe,eAAe,KAAK,KAAK;AAC9D,iBAAS,QAAQ,QAAQ;AACzB,mBAAW,QAAQ,QAAQ;AAAA,eACpB,OAAO;AACd,gBAAQ,MAAM,KAAK;AAAA,MAAA,UACnB;AACA,gBAAQ,QAAQ;AAAA,MAClB;AAAA,IAAA;AASF,UAAM,WAAW,MAAM;AACjB,UAAA,KAAK,QAAQ,GAAG;AACb,aAAA;AACO;MACd;AAAA,IAAA;AASF,UAAM,UAAU,MAAM;AAChB,UAAA,KAAK,QAAQ,WAAW,OAAO;AAC5B,aAAA;AACO;MACd;AAAA,IAAA;AAUF,kBAAc,YAAY;AACxB,YAAM,YAAY;AAAA,IAAA,CACnB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}