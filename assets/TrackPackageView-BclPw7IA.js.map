{"version":3,"file":"TrackPackageView-BclPw7IA.js","sources":["../../src/views/TrackPackageView.vue"],"sourcesContent":["<script setup lang=\"ts\">\r\n/**\r\n * In this file, you will find the logic for the TrackPackageView component.\r\n *\r\n * This component is responsible for tracking a package.\r\n *\r\n * @requires ref\r\n * This function is used to create a reactive reference.\r\n *\r\n * @requires packageService\r\n * This service is used to interact with the API to get the package data.\r\n *\r\n */\r\n\r\n//Vue imports\r\nimport { ref } from 'vue'\r\n\r\n//Vue Router imports\r\n\r\n//Stores imports\r\n\r\n//Models imports\r\nimport ErrorAlert from '@/components/alert/ErrorAlert.vue'\r\nimport SuccessAlert from '@/components/alert/SuccessAlert.vue'\r\n\r\n//Views imports\r\nimport PrimaryInput from '@/components/utilities/PrimaryInput.vue'\r\nimport PrimaryButton from '@/components/utilities/PrimaryButton.vue'\r\n\r\n//Services imports\r\nimport { packageService } from '@/services/packages'\r\n\r\n// Variable to store if the page is loading\r\nconst loadingRequest = ref(false)\r\n\r\n// Variable to store the alert message\r\nconst messageAlert = ref('')\r\n\r\n// Variable to store the success message\r\nconst messageSuccess = ref('')\r\n\r\n// Variable to store the package guide number to track\r\nconst guidenumber = ref('')\r\n\r\n// Variable to store the package data, once it is loaded, with the packageService\r\nconst packageLoad = ref()\r\n\r\nconst trackPackage = async () => {\r\n  // Validate if the guidenumber is empty\r\n  if (!guidenumber.value) {\r\n    messageAlert.value = 'Por favor, ingrese un número de guía'\r\n    return\r\n  }\r\n\r\n  loadingRequest.value = true\r\n\r\n  try {\r\n    // Get the package data from the API, calling the packageService\r\n    packageLoad.value = await packageService.getPackage(guidenumber.value)\r\n  } catch (error) {\r\n    if (error instanceof Error) {\r\n      messageAlert.value = error.message\r\n    } else {\r\n      messageAlert.value = 'Ha ocurrido un error'\r\n    }\r\n  } finally {\r\n    loadingRequest.value = false\r\n  }\r\n}\r\n</script>\r\n<template>\r\n  <div class=\"container mx-auto pt-5\">\r\n    <div class=\"home mb-3\">\r\n      <router-link to=\"/\">\r\n        <i class=\"bi bi-house-fill\"></i>\r\n        Inicio\r\n      </router-link>\r\n    </div>\r\n    <!-- Title of the page -->\r\n    <h2>Consultar ruta</h2>\r\n    <!-- Description of the page -->\r\n    <p class=\"mb-5\">Ingrese el número de guía del paquete, para conocer la ruta que va a seguir</p>\r\n    <div class=\"input-container\">\r\n      <!-- Input for the guide number of the package -->\r\n      <PrimaryInput\r\n        id=\"guidenumber\"\r\n        type=\"number\"\r\n        placeholder=\"Ingrese el número de guía\"\r\n        v-model=\"guidenumber\"\r\n      ></PrimaryInput>\r\n      <!-- Button to track the package -->\r\n      <PrimaryButton text=\"Consultar\" :loading=\"loadingRequest\" @click=\"trackPackage\" />\r\n    </div>\r\n    <div class=\"track-container mt-5 flex\" v-if=\"packageLoad\">\r\n      <!-- Información básica del paquete -->\r\n      <div class=\"package-card\">\r\n        <div class=\"section\">\r\n          <p class=\"head\">Descripción</p>\r\n          <p>{{ packageLoad.description }}</p>\r\n        </div>\r\n        <div class=\"section\">\r\n          <p class=\"head\">Fecha de creación</p>\r\n          <p>{{ packageLoad.created }}</p>\r\n        </div>\r\n        <div class=\"section\">\r\n          <p class=\"head\">Nodo de origen</p>\r\n          <p>{{ packageLoad.startName }}</p>\r\n        </div>\r\n        <div class=\"section\">\r\n          <p class=\"head\">Nodo de destino</p>\r\n          <p>{{ packageLoad.endName }}</p>\r\n        </div>\r\n        <div class=\"section\">\r\n          <p class=\"head\">Distancia</p>\r\n          <p>{{ packageLoad.distanceKm }} km</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"package-path\">\r\n        <!-- Ruta del paquete -->\r\n        <h3>Ruta</h3>\r\n        <ul class=\"flex flex-column pl-5\">\r\n          <div class=\"item flex gap-2\" v-for=\"node in packageLoad.path\" :key=\"node.id\">\r\n            <i class=\"bi bi-arrow-right\"></i>\r\n            <li>{{ node.name }}</li>\r\n          </div>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <h2 class=\"mt-3\">Puntos de control</h2>\r\n    <p class=\"mb-5 mt-1\">Estas son las rutas con las que cuenta la empresa</p>\r\n    <img src=\"/valley_route_graph.png\" alt=\"Checkpoints\" />\r\n    <p class=\"text-base mb-5 mt-1\">A partir de Google Earth</p>\r\n  </div>\r\n\r\n  <!-- Alert component to show error message -->\r\n  <ErrorAlert\r\n    v-if=\"messageAlert && messageSuccess === ''\"\r\n    :show=\"messageAlert !== ''\"\r\n    :message=\"messageAlert\"\r\n    @close=\"messageAlert = ''\"\r\n  />\r\n\r\n  <!-- Alert component to show success message -->\r\n  <SuccessAlert\r\n    v-if=\"messageSuccess\"\r\n    :show=\"messageSuccess !== ''\"\r\n    :message=\"messageSuccess\"\r\n    @close=\"messageSuccess = ''\"\r\n  />\r\n</template>\r\n\r\n<style scoped>\r\n.input-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: start;\r\n  max-width: 50rem;\r\n  gap: 1rem;\r\n}\r\n\r\n.track-container {\r\n  display: flex;\r\n  justify-content: start;\r\n  flex-wrap: wrap;\r\n  gap: 1rem;\r\n\r\n  /* Styles to show the package card */\r\n  .package-card {\r\n    display: flex;\r\n    align-items: start;\r\n    flex-direction: column;\r\n    max-height: 45rem;\r\n    overflow-y: auto;\r\n    gap: 1rem;\r\n    padding: 1rem;\r\n    border: 1px solid #ccc;\r\n    border-radius: 0.5rem;\r\n    width: 100%;\r\n    max-width: 50rem;\r\n\r\n    .section {\r\n      width: 100%;\r\n      padding: 1rem 0;\r\n\r\n      .head {\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    .section:not(:last-child) {\r\n      border-bottom: 1px solid #ccc;\r\n    }\r\n  }\r\n  /* Styles to show the package path */\r\n  .package-path {\r\n    width: 100%;\r\n    max-width: 50rem;\r\n    max-height: 45rem;\r\n    overflow-y: auto;\r\n    padding: 1rem;\r\n    border: 1px solid #ccc;\r\n    border-radius: 0.5rem;\r\n\r\n    & h3 {\r\n      font-weight: bold;\r\n      margin-bottom: 1rem;\r\n    }\r\n\r\n    .item:first-child {\r\n      color: #2f7a2f;\r\n      font-weight: bold;\r\n    }\r\n\r\n    .item:last-child {\r\n      color: #9d1c1c;\r\n      font-weight: bold;\r\n    }\r\n\r\n    .item {\r\n      align-items: center;\r\n      font-size: 1.8rem;\r\n\r\n      & i {\r\n        font-size: 3rem;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.home {\r\n  font-size: 1.6rem;\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCM,UAAA,iBAAiB,IAAI,KAAK;AAG1B,UAAA,eAAe,IAAI,EAAE;AAGrB,UAAA,iBAAiB,IAAI,EAAE;AAGvB,UAAA,cAAc,IAAI,EAAE;AAG1B,UAAM,cAAc;AAEpB,UAAM,eAAe,YAAY;AAE3B,UAAA,CAAC,YAAY,OAAO;AACtB,qBAAa,QAAQ;AACrB;AAAA,MACF;AAEA,qBAAe,QAAQ;AAEnB,UAAA;AAEF,oBAAY,QAAQ,MAAM,eAAe,WAAW,YAAY,KAAK;AAAA,eAC9D,OAAO;AACd,YAAI,iBAAiB,OAAO;AAC1B,uBAAa,QAAQ,MAAM;AAAA,QAAA,OACtB;AACL,uBAAa,QAAQ;AAAA,QACvB;AAAA,MAAA,UACA;AACA,uBAAe,QAAQ;AAAA,MACzB;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}